{
  "IDMversion": "1.3 2025-08-10",
  "license": "(c) EMerge Alliance 2025, Licensed CC BY-NC-ND 4.0 -All Rights Reserved",
  "$comment": "This JSON schema is for any electrical power port",
  "schema": {
    "type": "object",
    "properties": {
      "portName": { "type": "string" },
      "frequency": { "$ref": "frequency-schema.json#/schema" },
      "connectionType": { "$ref": "phase-schema.json#/schema" },
      "SOA": { "$ref": "SOA-schema.json#/schema" },
      "VIrelationship": {
        "oneOf": [
          {
            "type": "object",
            "properties": {
              "portType": { "const": "constantPower" },
              "powerLevel": { "$ref": "powerRating-schema.json#/schema" }
            }
          },
          {
            "type": "object",
            "properties": {
              "portType": { "const": "constantCurrent" },
              "currentLevel": { "$ref": "currentRating-schema.json#/schema" }
            }
          },
          {
            "type": "object",
            "properties": {
              "portType": { "const": "constantVoltage" },
              "openCctVolts": { "$ref": "voltageRating-schema.json#/schema" },
              "theveninResistance": { "$ref": "resistanceValue-schema.json#/schema" }
            }
          },
          {
            "type": "object",
            "properties": {
              "portType": { "const": "constantResistance" },
              "currentLevel": { "$ref": "resistanceValue-schema.json#/schema" }
            }
          },
          {
            "type": "object",
            "properties": {
              "portType": { "const": "batteryChargingPort" },
              "currentLevel": { "$ref": "batteryChargingPort-schema.json#/schema" }
            }
          },
          {
            "type": "object",
            "properties": {
              "portType": { "const": "VIrelationshipUndefined" }
            }
          }
        ]
      },
      "maxVoltageToGround": { "$ref": "voltageRating-schema.json#/schema" },
      "poleLocallyGrounded": { "$ref": "grounding-schema.json#/schema" },
      "groundWire": { "$ref": "PE-schema.json#/schema" },
      "connector": { "$ref": "connection-schema.json#/schema" },
      "prechargeProtection": {
        "type": "string",
        "enum": [ "provided", "required", "neither" ]
      },
      "crowbar": { "type": "boolean" }
    }
  }
}
